\hypertarget{hypothesis__maker_8py}{}\doxysection{scripts/hypothesis\+\_\+maker.py File Reference}
\label{hypothesis__maker_8py}\index{scripts/hypothesis\_maker.py@{scripts/hypothesis\_maker.py}}


This script handles the hypothesis maker service and the onthology part.  


\doxysubsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
 \mbox{\hyperlink{namespaceexpr__rob__lab}{expr\+\_\+rob\+\_\+lab}}
\begin{DoxyCompactList}\small\item\em ! /usr/bin/env python2 \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{hypothesis__maker_8py_a1da91a9b684c7db2460ac547acfe732d}\label{hypothesis__maker_8py_a1da91a9b684c7db2460ac547acfe732d}} 
def {\bfseries hypothesis\+\_\+maker\+\_\+server} ()
\item 
\mbox{\Hypertarget{hypothesis__maker_8py_ac5411eb59ad33af7cbf88275e4f9dd22}\label{hypothesis__maker_8py_ac5411eb59ad33af7cbf88275e4f9dd22}} 
def {\bfseries load} ()
\item 
\mbox{\Hypertarget{hypothesis__maker_8py_abfe00b0dd283834e4568248b6c04a5fb}\label{hypothesis__maker_8py_abfe00b0dd283834e4568248b6c04a5fb}} 
def {\bfseries make\+\_\+hypothesis} (request)
\item 
\mbox{\Hypertarget{hypothesis__maker_8py_afe32dab9e7ad51f09556beda1441e111}\label{hypothesis__maker_8py_afe32dab9e7ad51f09556beda1441e111}} 
def {\bfseries comp\+\_\+consist} ()
\item 
\mbox{\Hypertarget{hypothesis__maker_8py_a8bb09bab2aba602e921a0c0768f826a0}\label{hypothesis__maker_8py_a8bb09bab2aba602e921a0c0768f826a0}} 
def {\bfseries hypo\+\_\+detail} ()
\item 
\mbox{\Hypertarget{hypothesis__maker_8py_a8adf9e1c4c0c7622f71b40607db4954a}\label{hypothesis__maker_8py_a8adf9e1c4c0c7622f71b40607db4954a}} 
def {\bfseries add\+\_\+to\+\_\+hypo} (id, name, class\+\_\+id)
\item 
\mbox{\Hypertarget{hypothesis__maker_8py_afc578b2fbd2370f057e0f2e681979e57}\label{hypothesis__maker_8py_afc578b2fbd2370f057e0f2e681979e57}} 
def {\bfseries add\+\_\+to\+\_\+ont} (name, class\+\_\+id)
\item 
\mbox{\Hypertarget{hypothesis__maker_8py_af5bfe9270e43e520a55066b0092cbc81}\label{hypothesis__maker_8py_af5bfe9270e43e520a55066b0092cbc81}} 
def {\bfseries disjoint} (class\+\_\+id)
\item 
\mbox{\Hypertarget{hypothesis__maker_8py_ad52a195e41914ef92300a23b85dfcd03}\label{hypothesis__maker_8py_ad52a195e41914ef92300a23b85dfcd03}} 
def {\bfseries class\+\_\+ont} (class\+\_\+id)
\item 
\mbox{\Hypertarget{hypothesis__maker_8py_a188bb45984b888851bfc1b9cabf30a08}\label{hypothesis__maker_8py_a188bb45984b888851bfc1b9cabf30a08}} 
def \mbox{\hyperlink{hypothesis__maker_8py_a188bb45984b888851bfc1b9cabf30a08}{reason}} ()
\begin{DoxyCompactList}\small\item\em this function gets the class\+\_\+id and returns the class name for the onthology \end{DoxyCompactList}\item 
\mbox{\Hypertarget{hypothesis__maker_8py_a831bfa3d80468818812ed91ce7174d69}\label{hypothesis__maker_8py_a831bfa3d80468818812ed91ce7174d69}} 
def {\bfseries apply} ()
\item 
\mbox{\Hypertarget{hypothesis__maker_8py_a0d5bb7039e2dfe5178855a398b2a0c7d}\label{hypothesis__maker_8py_a0d5bb7039e2dfe5178855a398b2a0c7d}} 
def {\bfseries check} (id, name, class\+\_\+id)
\item 
\mbox{\Hypertarget{hypothesis__maker_8py_a09a49505d6142171da276ab1d6612a62}\label{hypothesis__maker_8py_a09a49505d6142171da276ab1d6612a62}} 
def {\bfseries position\+\_\+find} (matrix, value)
\item 
\mbox{\Hypertarget{hypothesis__maker_8py_a80f7955a3c47b6484eeec5226eeb8ffc}\label{hypothesis__maker_8py_a80f7955a3c47b6484eeec5226eeb8ffc}} 
def {\bfseries matrix\+\_\+find} (matrix, value)
\item 
\mbox{\Hypertarget{hypothesis__maker_8py_a2b90c345f1f24134f8e9d09bf0fb204d}\label{hypothesis__maker_8py_a2b90c345f1f24134f8e9d09bf0fb204d}} 
def \mbox{\hyperlink{hypothesis__maker_8py_a2b90c345f1f24134f8e9d09bf0fb204d}{hypo\+\_\+control}} (id)
\begin{DoxyCompactList}\small\item\em this function return if a value exists in a matrix \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{hypothesis__maker_8py_a9c1db2e956864fd9d81e7c8b1c88e97e}\label{hypothesis__maker_8py_a9c1db2e956864fd9d81e7c8b1c88e97e}} 
list {\bfseries locations} = \mbox{[}\mbox{[}$\,$\mbox{]}\mbox{]}
\item 
\mbox{\Hypertarget{hypothesis__maker_8py_aec12c69a52ca14414852eb243649c19b}\label{hypothesis__maker_8py_aec12c69a52ca14414852eb243649c19b}} 
list {\bfseries weapons} = \mbox{[}\mbox{[}$\,$\mbox{]}\mbox{]}
\item 
\mbox{\Hypertarget{hypothesis__maker_8py_aa99c63ad63e42004d7bd6ca954d5590b}\label{hypothesis__maker_8py_aa99c63ad63e42004d7bd6ca954d5590b}} 
list {\bfseries people} = \mbox{[}\mbox{[}$\,$\mbox{]}\mbox{]}
\item 
\mbox{\Hypertarget{hypothesis__maker_8py_a77df42e6ff2be406a9a3548db97ceae9}\label{hypothesis__maker_8py_a77df42e6ff2be406a9a3548db97ceae9}} 
\mbox{\hyperlink{hypothesis__maker_8py_a77df42e6ff2be406a9a3548db97ceae9}{armor}} = rospy.\+Service\+Proxy(\textquotesingle{}armor\+\_\+interface\+\_\+srv\textquotesingle{}, Armor\+Directive)
\begin{DoxyCompactList}\small\item\em this function initializes the node, the hypothesis\+\_\+maker service and the proxy to the armor service \end{DoxyCompactList}\item 
\mbox{\hyperlink{hypothesis__maker_8py_a51e6a0d2bcb8531a5e5adcd66a77aa3b}{request}} = Armor\+Directive\+Req()
\begin{DoxyCompactList}\small\item\em this function defines the load command for armor \end{DoxyCompactList}\item 
\mbox{\Hypertarget{hypothesis__maker_8py_ad41d5e86c7681b061a2ba456225455f9}\label{hypothesis__maker_8py_ad41d5e86c7681b061a2ba456225455f9}} 
{\bfseries client\+\_\+name}
\item 
\mbox{\Hypertarget{hypothesis__maker_8py_a300274138dbb93b54b0b73c33300f045}\label{hypothesis__maker_8py_a300274138dbb93b54b0b73c33300f045}} 
{\bfseries reference\+\_\+name}
\item 
\mbox{\Hypertarget{hypothesis__maker_8py_a9e0992eae3950adccaf4847fbff4231d}\label{hypothesis__maker_8py_a9e0992eae3950adccaf4847fbff4231d}} 
{\bfseries command}
\item 
\mbox{\Hypertarget{hypothesis__maker_8py_a5e60b05fade3865c267ad50a1273f604}\label{hypothesis__maker_8py_a5e60b05fade3865c267ad50a1273f604}} 
{\bfseries primary\+\_\+command\+\_\+spec}
\item 
\mbox{\Hypertarget{hypothesis__maker_8py_ab8cb0c9a02737e16d9bf858e9a4749c0}\label{hypothesis__maker_8py_ab8cb0c9a02737e16d9bf858e9a4749c0}} 
{\bfseries secondary\+\_\+command\+\_\+spec}
\item 
\mbox{\Hypertarget{hypothesis__maker_8py_a8187411843a6284ffb964ef3fb9fcab3}\label{hypothesis__maker_8py_a8187411843a6284ffb964ef3fb9fcab3}} 
{\bfseries args}
\item 
\mbox{\Hypertarget{hypothesis__maker_8py_a10a0f35066079abd150539d0d13dbf3e}\label{hypothesis__maker_8py_a10a0f35066079abd150539d0d13dbf3e}} 
{\bfseries msg} = armor(request)
\item 
\mbox{\Hypertarget{hypothesis__maker_8py_ab0bd7560790c13b656fd58e17e35143e}\label{hypothesis__maker_8py_ab0bd7560790c13b656fd58e17e35143e}} 
{\bfseries res} = msg.\+armor\+\_\+response
\item 
\mbox{\hyperlink{hypothesis__maker_8py_acf2488b95c97e0378c9bf49de3b50f28}{id}} = request.\+id
\begin{DoxyCompactList}\small\item\em this function is the handle of the hypothesis maker service. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{hypothesis__maker_8py_ab74e6bf80237ddc4109968cedc58c151}\label{hypothesis__maker_8py_ab74e6bf80237ddc4109968cedc58c151}} 
{\bfseries name} = request.\+name
\item 
\mbox{\Hypertarget{hypothesis__maker_8py_af86f019ee114dc0e0b697acbb6ced3e8}\label{hypothesis__maker_8py_af86f019ee114dc0e0b697acbb6ced3e8}} 
{\bfseries class\+\_\+id} = request.\+class\+\_\+id
\item 
\mbox{\Hypertarget{hypothesis__maker_8py_a609886202318c9acb68398d6dab56600}\label{hypothesis__maker_8py_a609886202318c9acb68398d6dab56600}} 
{\bfseries who} = name
\item 
\mbox{\Hypertarget{hypothesis__maker_8py_ad6ac2b3eb4d251c00687617864501a6f}\label{hypothesis__maker_8py_ad6ac2b3eb4d251c00687617864501a6f}} 
{\bfseries what} = name
\item 
\mbox{\Hypertarget{hypothesis__maker_8py_aa9f4f4f5b04c261bc534982ec59eff4a}\label{hypothesis__maker_8py_aa9f4f4f5b04c261bc534982ec59eff4a}} 
{\bfseries where} = name
\item 
\mbox{\Hypertarget{hypothesis__maker_8py_ae1baa9f42256960b9f5b2161a808a3ac}\label{hypothesis__maker_8py_ae1baa9f42256960b9f5b2161a808a3ac}} 
\mbox{\hyperlink{hypothesis__maker_8py_ae1baa9f42256960b9f5b2161a808a3ac}{control}} = hypo\+\_\+control(id)
\begin{DoxyCompactList}\small\item\em this function check if the hypothesis has already beeen added to the matrix where I store them, if not it add the hypothesis\textquotesingle{} name and id. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{hypothesis__maker_8py_a55c22cfbb812209ea18675898bb1fafe}\label{hypothesis__maker_8py_a55c22cfbb812209ea18675898bb1fafe}} 
{\bfseries pos\+\_\+people} = position\+\_\+find(people, id)
\item 
\mbox{\Hypertarget{hypothesis__maker_8py_a94c6836c3c55e528917d29eeee03368e}\label{hypothesis__maker_8py_a94c6836c3c55e528917d29eeee03368e}} 
{\bfseries pos\+\_\+place} = position\+\_\+find(locations, id)
\item 
\mbox{\Hypertarget{hypothesis__maker_8py_a8bf50123739b7dd1795026e538f92891}\label{hypothesis__maker_8py_a8bf50123739b7dd1795026e538f92891}} 
{\bfseries pos\+\_\+weapon} = position\+\_\+find(weapons, id)
\item 
\mbox{\Hypertarget{hypothesis__maker_8py_ace5c7305b35a657bfae97a5bd135c372}\label{hypothesis__maker_8py_ace5c7305b35a657bfae97a5bd135c372}} 
list {\bfseries person} = people\mbox{[}pos\+\_\+people\mbox{]}\mbox{[}0\mbox{]}
\item 
\mbox{\Hypertarget{hypothesis__maker_8py_a905334d717455cce952655340984b3d0}\label{hypothesis__maker_8py_a905334d717455cce952655340984b3d0}} 
list {\bfseries place} = locations\mbox{[}pos\+\_\+place\mbox{]}\mbox{[}0\mbox{]}
\item 
\mbox{\Hypertarget{hypothesis__maker_8py_a5ff8535b1c4c49d510b4037d58a3e4c6}\label{hypothesis__maker_8py_a5ff8535b1c4c49d510b4037d58a3e4c6}} 
list {\bfseries weapon} = weapons\mbox{[}pos\+\_\+weapon\mbox{]}\mbox{[}0\mbox{]}
\item 
\mbox{\Hypertarget{hypothesis__maker_8py_a2aa7664da441186441d46f22a945496c}\label{hypothesis__maker_8py_a2aa7664da441186441d46f22a945496c}} 
bool {\bfseries consistent} = True
\item 
\mbox{\hyperlink{hypothesis__maker_8py_afc486b0767ef05e2dc12f5b98be72902}{identifier}} = class\+\_\+ont(class\+\_\+id)
\begin{DoxyCompactList}\small\item\em this function adds an hypothesis to the onthology \end{DoxyCompactList}\item 
\mbox{\Hypertarget{hypothesis__maker_8py_afd8bf5be766e61cd37d9132ee9578d26}\label{hypothesis__maker_8py_afd8bf5be766e61cd37d9132ee9578d26}} 
list {\bfseries temp} = \mbox{[}name, id\mbox{]}
\item 
\mbox{\Hypertarget{hypothesis__maker_8py_acb559820d9ca11295b4500f179ef6392}\label{hypothesis__maker_8py_acb559820d9ca11295b4500f179ef6392}} 
int \mbox{\hyperlink{hypothesis__maker_8py_acb559820d9ca11295b4500f179ef6392}{i}} = 0
\begin{DoxyCompactList}\small\item\em this function finds the idex of the row I\textquotesingle{}m looking for and return it \end{DoxyCompactList}\item 
\mbox{\Hypertarget{hypothesis__maker_8py_a85b4ae5e2793b7dcc5c6deb30e83ed68}\label{hypothesis__maker_8py_a85b4ae5e2793b7dcc5c6deb30e83ed68}} 
def \mbox{\hyperlink{hypothesis__maker_8py_a85b4ae5e2793b7dcc5c6deb30e83ed68}{a}} = matrix\+\_\+find(people, id)
\begin{DoxyCompactList}\small\item\em this function sees if in the matrix exists a complete hypothesis \end{DoxyCompactList}\item 
\mbox{\Hypertarget{hypothesis__maker_8py_aaf4284a3292e242e5c9dfa5ba117b716}\label{hypothesis__maker_8py_aaf4284a3292e242e5c9dfa5ba117b716}} 
def {\bfseries b} = matrix\+\_\+find(locations, id)
\item 
\mbox{\Hypertarget{hypothesis__maker_8py_a03c7cd967a8ca4d7f62fd396a92862d3}\label{hypothesis__maker_8py_a03c7cd967a8ca4d7f62fd396a92862d3}} 
def {\bfseries c} = matrix\+\_\+find(weapons, id)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This script handles the hypothesis maker service and the onthology part. 

\begin{DoxyAuthor}{Author}
Jacopo Ciro Soncini 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1.\+0 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
15/11/2021
\end{DoxyDate}
Subscribes to\+: ~\newline
 None

Publishes to\+: ~\newline
 hint

Services\+: ~\newline
 hypothesis\+\_\+maker

Client Services\+: ~\newline
 armor\+\_\+interface\+\_\+srv

Action Services\+: ~\newline
 None

Description\+: ~\newline
 This node handles the hint publisher, by publishing random hints from a list. 

\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{hypothesis__maker_8py_acf2488b95c97e0378c9bf49de3b50f28}\label{hypothesis__maker_8py_acf2488b95c97e0378c9bf49de3b50f28}} 
\index{hypothesis\_maker.py@{hypothesis\_maker.py}!id@{id}}
\index{id@{id}!hypothesis\_maker.py@{hypothesis\_maker.py}}
\doxysubsubsection{\texorpdfstring{id}{id}}
{\footnotesize\ttfamily id = request.\+id}



this function is the handle of the hypothesis maker service. 

it returns the response to the state machine. \mbox{\Hypertarget{hypothesis__maker_8py_afc486b0767ef05e2dc12f5b98be72902}\label{hypothesis__maker_8py_afc486b0767ef05e2dc12f5b98be72902}} 
\index{hypothesis\_maker.py@{hypothesis\_maker.py}!identifier@{identifier}}
\index{identifier@{identifier}!hypothesis\_maker.py@{hypothesis\_maker.py}}
\doxysubsubsection{\texorpdfstring{identifier}{identifier}}
{\footnotesize\ttfamily identifier = class\+\_\+ont(class\+\_\+id)}



this function adds an hypothesis to the onthology 

this function calls the disjoint command \mbox{\Hypertarget{hypothesis__maker_8py_a51e6a0d2bcb8531a5e5adcd66a77aa3b}\label{hypothesis__maker_8py_a51e6a0d2bcb8531a5e5adcd66a77aa3b}} 
\index{hypothesis\_maker.py@{hypothesis\_maker.py}!request@{request}}
\index{request@{request}!hypothesis\_maker.py@{hypothesis\_maker.py}}
\doxysubsubsection{\texorpdfstring{request}{request}}
{\footnotesize\ttfamily request = Armor\+Directive\+Req()}



this function defines the load command for armor 

this function calls the apply command for armor

this function calls the reason command for armor

this function adds an hyopthesis to the reasoner

this function defines the hypothesis\textquotesingle{} classes

this function loads in the onthology the completed and incostistent for armor 